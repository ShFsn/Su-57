<?xml version="1.0" encoding="UTF-8"?>
<system name="electric">
	<property value="0">electric/switches/sources/battery1</property>
	<property value="0">electric/switches/sources/battery2</property>
	<property value="0">electric/switches/sources/apu</property>
	<property value="0">electric/switches/sources/apu-gen</property>
	<property value="0">electric/switches/sources/ac-gen1</property>
	<property value="0">electric/switches/sources/ac-gen2</property>
	<property value="0">electric/switches/sources/ground-power</property>
	<property value="1">electric/switches/sources/dc-probe</property>

	<property value="1">electric/switches/lights/landing</property>
	<property value="0">electric/switches/lights/left</property>
	<property value="0">electric/switches/lights/panels</property>
	<property value="0">electric/switches/lights/right</property>
	<property value="0">electric/switches/lights/flood</property>

	<property value="0">electric/switches/avionics/fms</property>
	<property value="0">electric/switches/avionics/hmd</property>
	<property value="0">electric/switches/avionics/hud</property>
	<property value="1">electric/switches/avionics/ins1</property>
	<property value="1">electric/switches/avionics/ins2</property>

	<property value="1">electric/switches/engines/select</property>
	<property value="1">electric/switches/engines/mode</property>

	<property value="0">electric/switches/misc/eject1</property>
	<property value="0">electric/switches/misc/eject2</property>

	<channel name="sources">
		<fcs_function name="electric/sources/battery1">
			<function>
				<product>
					<property>electric/switches/sources/battery1</property>
					<value>24</value>
				</product>
			</function>
			<output>electric/sources/battery1</output>
		</fcs_function>
		<fcs_function name="electric/sources/battery2">
			<function>
				<product>
					<property>electric/switches/sources/battery2</property>
					<value>24</value>
				</product>
			</function>
			<output>electric/sources/battery2</output>
		</fcs_function>
		<fcs_function name="electric/sources/dc-gen1">
			<function>
				<table>
					<independentVar lookup="row">propulsion/engine[0]/n1</independentVar>
					<tableData>
						  0.0	0.0
						 30.0  24.0
						100.0  28.0
					</tableData>
				</table>
			</function>
			<output>electric/sources/dc-gen1</output>
		</fcs_function>
		<fcs_function name="electric/sources/dc-gen2">
			<function>
				<table>
					<independentVar lookup="row">propulsion/engine[1]/n1</independentVar>
					<tableData>
						  0.0	0.0
						 30.0  24.0
						100.0  28.0
					</tableData>
				</table>
			</function>
			<output>electric/sources/dc-gen2</output>
		</fcs_function>
		<fcs_function name="electric/sources/ac-gen1">
			<function>
				<product>
					<property>electric/switches/sources/ac-gen1</property>
					<table>
						<independentVar lookup="row">propulsion/engine[0]/n1</independentVar>
						<tableData>
							  0.0	0.0
							 30.0  112.0
							100.0  116.0
						</tableData>
					</table>
				</product>
			</function>
			<output>electric/sources/ac-gen1</output>
		</fcs_function>
		<fcs_function name="electric/sources/ac-gen2">
			<function>
				<product>
					<property>electric/switches/sources/ac-gen2</property>
					<table>
						<independentVar lookup="row">propulsion/engine[1]/n1</independentVar>
						<tableData>
							  0.0	0.0
							 30.0  112.0
							100.0  116.0
						</tableData>
					</table>
				</product>
			</function>
			<output>electric/sources/ac-gen2</output>
		</fcs_function>
		<fcs_function name="electric/sources/apu-gen">
			<function>
				<product>
					<property>electric/switches/sources/apu</property>
					<property>electric/switches/sources/apu-gen</property>
					<value>112</value>
				</product>
			</function>
			<output>electric/sources/apu-gen</output>
		</fcs_function>
		<fcs_function name="electric/sources/dc-bus1">
			<function>
				<max>
					<property>electric/sources/battery1</property>
					<product>
						<property>electric/sources/ac-gen1</property>
						<value>0.21</value>
					</product>
					<product>
						<property>electric/sources/apu-gen</property>
						<value>0.21</value>
					</product>
				</max>
			</function>
			<output>electric/sources/dc-bus1</output>
		</fcs_function>
		<fcs_function name="electric/sources/dc-bus2">
			<function>
				<max>
					<property>electric/sources/battery2</property>
					<product>
						<property>electric/sources/ac-gen2</property>
						<value>0.21</value>
					</product>
					<product>
						<property>electric/sources/apu-gen</property>
						<value>0.21</value>
					</product>
				</max>
			</function>
			<output>electric/sources/dc-bus2</output>
		</fcs_function>
		<fcs_function name="electric/sources/dc-bus">
			<function>
				<max>
					<property>electric/sources/dc-bus1</property>
					<property>electric/sources/dc-bus2</property>
				</max>
			</function>
			<output>electric/sources/dc-bus</output>
		</fcs_function>
		<fcs_function name="electric/sources/ac-bus1">
			<function>
				<max>
					<property>electric/sources/ac-gen1</property>
					<property>electric/sources/apu-gen</property>
				</max>
			</function>
			<output>electric/sources/ac-bus1</output>
		</fcs_function>
		<fcs_function name="electric/sources/ac-bus2">
			<function>
				<max>
					<property>electric/sources/ac-gen2</property>
					<property>electric/sources/apu-gen</property>
				</max>
			</function>
			<output>electric/sources/ac-bus2</output>
		</fcs_function>
		<fcs_function name="electric/sources/ac-bus">
			<function>
				<max>
					<property>electric/sources/ac-bus1</property>
					<property>electric/sources/ac-bus2</property>
				</max>
			</function>
			<output>electric/sources/ac-bus</output>
		</fcs_function>
		<switch name="electric/sources/dc-probe">
			<default value="0"/>
			<test logic="AND" value="electric/sources/dc-gen1">
				electric/switches/sources/dc-probe == 2
			</test>
			<test logic="AND" value="electric/sources/dc-gen2">
				electric/switches/sources/dc-probe == 0
			</test>
		</switch>
		<lag_filter name="electric/sources/voltmeter">
			<input>electric/sources/dc-probe</input>
			<c1>7.0</c1>
			<output>electric/sources/voltmeter</output>
		</lag_filter>
	</channel>

	<channel name="lights">
		<fcs_function name="electric/output/lights/flood">
			<function>
				<min>
					<property>electric/sources/dc-bus</property>
					<property>electric/switches/lights/flood</property>
				</min>
			</function>
			<output>electric/output/lights/flood</output>
		</fcs_function>
		<fcs_function name="electric/output/lights/panels">
			<function>
				<product>
					<property>electric/sources/dc-bus</property>
					<property>electric/switches/lights/panels</property>
					<value>1.0</value>
				</product>
			</function>
			<output>electric/output/lights/panels</output>
		</fcs_function>
		<switch name="electric/output/lights/landing">
			<default value="0"/>
			<test logic="AND" value="electric/sources/ac-bus">
				electric/switches/lights/landing == 2
			</test>
		</switch>
		<switch name="electric/output/lights/taxi">
			<default value="0"/>
			<test logic="AND" value="electric/sources/ac-bus">
				electric/switches/lights/landing == 0
			</test>
		</switch>
	</channel>

	<channel name="avionics">
		<switch name="electric/output/avionics/fms">
			<default value="0"/>
			<test logic="AND" value="electric/sources/dc-bus">
				electric/switches/avionics/fms == 1
			</test>
		</switch>
		<switch name="electric/output/avionics/hud">
			<default value="0"/>
			<test logic="AND" value="electric/sources/ac-bus">
				electric/switches/avionics/hud == 1
			</test>
		</switch>
	</channel>

	<channel name="misc">
		<!-- checklist -->
		<fcs_function name="electric/output/misc/checklist1">
			<function>
				<max>
					<property>electric/switches/weapons/cfd</property>
					<property>electric/switches/avionics/fms</property>
					<property>electric/switches/avionics/hud</property>
					<property>electric/switches/avionics/hmd</property>
					<property>electric/switches/avionics/ins1</property>
					<property>electric/switches/avionics/ins2</property>
					<property>electric/switches/radar/jammer</property>
					<property>electric/switches/radar/radar</property>
					<property>electric/switches/radar/rwr</property>
					<property>electric/switches/misc/toilet</property>
				</max>
			</function>
			<output>electric/output/misc/checklist1</output>
		</fcs_function>
		<fcs_function name="electric/output/misc/eject">
			<function>
				<sum>
					<property>electric/switches/misc/eject1</property>
					<property>electric/switches/misc/eject2</property>
				</sum>
			</function>
			<output>electric/output/misc/eject</output>
		</fcs_function>
	</channel>
</system>
